
<% content_for :subtitle do %>Signup<%end%>
<% content_for :append_head do %>

<style>
<!--
body {
    /* font-family: 'Lucida Grande', 'Lucida Sans Unicode', Verdana, Helvetica, Arial, sans-serif; */
    font-family: Helvetica, Arial, sans-serif;
    font-size: 12px;
    background-color: white;
}
label {
    text-align: right;
    display: block;
}
input {
    font-size: 16px;
    font-weight: bold;
    padding: 3px;
    width: 200px;
}
button {
    //font-size: 18px;
    font-size: 20px;
    font-family: inherit;
    font-weight: bold;
    //text-shadow: rgba(0, 0, 0, 0.3) 0 1px 0;
    text-shadow: rgba(0, 0, 0, 0.3) 0 2px 0;
    cursor: pointer;
    height: 52px;
    -moz-border-radius: 4px;
    -webkit-border-radius: 4px;
    -o-border-radius: 4px;
    -ms-border-radius: 4px;
    -khtml-border-radius: 4px;
    border-radius: 4px;
    border:1px solid #ac3e65;
    background: #dc5381;
    background: -webkit-gradient(linear, 50% 0%, 50% 100%, color-stop(0%, #e26994), color-stop(100%, #dc5381));
    background: -webkit-linear-gradient(#e26994,#dc5381);
    background: -moz-linear-gradient(#e26994,#dc5381);
    background: -o-linear-gradient(#e26994,#dc5381);
    background: linear-gradient(#e26994,#dc5381);color:#fff;
    -moz-box-shadow: rgba(255, 255, 255, 0.4) 0 1px 0, rgba(255, 255, 255, 0.2) 0 1px 0 0 inset;
    -webkit-box-shadow: rgba(255, 255, 255, 0.4) 0 1px 0, rgba(255, 255, 255, 0.2) 0 1px 0 0 inset;
    -o-box-shadow: rgba(255, 255, 255, 0.4) 0 1px 0, rgba(255, 255, 255, 0.2) 0 1px 0 0 inset;
    box-shadow: rgba(255, 255, 255, 0.4) 0 1px 0, rgba(255, 255, 255, 0.2) 0 1px 0 0 inset;
    line-height: 50px;
    padding: 0 20px;
}
tr.tall_row {
    height: 70px;
}
td {
    vertical-align: text-top;
}
td.col1 { width: 110px; }
td.col2 { width: 210px; }
td.col3 { width: 265px; }
/* td.col1 { width: 33%; }
td.col2 { width: 33%; }
td.col3 { width: 33%; } */
label.fieldWithErrors {
    color: red;
    font-weight: bold;
}
input.fieldWithErrors {
    border-color: red;
    border-style: solid;
}
input:focus {
    background-color: #FFA;
}
.hint {
    color: #999;
    font-size: 11px;
}
#room_url_prefix {
    font-size: 16px;
    font-weight: bold;
$babelroom[:page_url]}
#room_url_prefix:before{
    content: '<%= $babelroom[:page_url] %>/';
}
#room_url_echo {
    color: #999;
}
#room_url_hint:after {
    content: 'Choose a URL for your room. You can always change this later';
}
#room_url_hint { height: 30px; }
#user_password_confirmation_hint { height: 20px; }
-->
</style>

<% end %>

<% form_for :user, @user, :url => { :action => "signup" }, :html => { :name => "form", :class => 'subscribe-form', :target => cstr(params[:target]), } do |f| %>
    <%= f.error_messages :header_message => "Please correct the following errors:",
        :message => nil %>

    <input type="hidden" name="welcome" value="<%= cstr(params[:welcome]) %>">
    <input type="hidden" name="plan_code" value="<%= cstr(params[:plan_code]) %>">

    <table cellpadding="0" cellspacing="5">
        <tr>
            <td class="col1"><label for="room_url" id="room_url_label" no_style="display: none;">URL (Optional)</label></td>
            <td class="col2"><input value="<%= cstr(params[:room_url]) %>" id="room_url" name="room_url" no_placeholder="Room URL" size="30" spellcheck="false" type="text" /></td>
            <td class="col3"><span id="room_url_msg" class="msg"></span></td>
        </tr>
        <tr>
            <td class="col1"></td>
            <td colspan="2">
                <div id="room_url_prefix"><span id="room_url_echo"></span></div>
                <div class="hint" id="room_url_hint"></div></td>
            </td>
        </tr>

        <tr>
            <td class="col1"><%= f.label :name, 'First name', :no_style => "display: none;", :id => "user_name_label" %></td>
            <td class="col2"><%= f.text_field :name, :no_placeholder => "First name", :spellcheck => "false", :autofocus => "autofocus" %>
                <div class="hint" id="user_name_hint"></div></td>
            <td class="col3"><span id="user_name_msg" class="msg"></span></td>
        </tr>

        <tr>
            <td class="col1"><%= f.label :last_name, nil, :no_style => "display: none;", :id => "user_last_name_label" %></td>
            <td class="col2"><%= f.text_field :last_name, :no_placeholder => "Last name", :spellcheck => "false" %>
                <div class="hint" id="user_last_name_hint"></div></td>
            <td class="col3"><span id="user_last_name_msg" class="msg"></span></td>
        </tr>
        <!--tr>
            <td class="col1"><%= f.label :name, 'First name', :no_style => "display: none;", :id => "user_name_label" %></td>
            <td colspan="2">
                <table cellspacing="0"><tr><td>
                <%= f.text_field :name, :no_placeholder => "First name", :spellcheck => "false", :style => "width: 120px;" %>
                    <div class="hint" id="user_name_hint"></div></td>
                </td><td style="width: 80px;">
                <span id="user_name_msg" class="msg"></span>
                </td><td style="width: 80px;">
                <%= f.label :last_name, nil, :no_style => "display: none;", :id => "user_last_name_label" %>
                </td><td>
                <%= f.text_field :last_name, :no_placeholder => "Last name", :spellcheck => "false", :style => "width: 120px;" %>
                    <div class="hint" id="user_last_name_hint"></div></td>
                </td><td>
                <span id="user_last_name_msg" class="msg"></span>
                </td></tr></table>
            </td>
        </tr-->

        <tr>
            <td class="col1"><%= f.label :email_address, nil, :no_style => "display: none;", :id => "user_email_address_label" %></td>
            <td class="col2"><%= f.text_field :email_address, :no_placeholder => "Email", :spellcheck => "false" %>
                <div class="hint" id="user_email_address_hint"></div></td>
            <td class="col3"><span id="user_email_address_msg" class="msg"></span></td>
        </tr>

        <tr class="tall_row">
            <td class="col1"><%= f.label :password, nil, :no_style => "display: none;", :id => "user_password_label" %></td>
            <td class="col2"><%= f.password_field :password, :no_placeholder => "Password" %>
                <div class="hint" id="user_password_hint">Please use at least 4 characters</div></td>
            <td class="col3"><span id="user_password_msg" class="msg"></span></td>
        </tr>

        <tr>
            <td class="col1"><%= f.label :confirm_password, "Confirm Password", :no_style => "display: none;", :id => "user_password_confirmation_label" %></td>
            <td class="col2"><%= f.password_field :password_confirmation, :no_placeholder => "Confirm" %>
                <div class="hint" id="user_password_confirmation_hint"></div></td>
            <td class="col3"><span id="user_password_confirmation_msg" class="msg"></span></td>
        </tr>

        <tr>
            <td colspan="3" align="center" style="">
                <!--<%= f.submit "Create My Account", :id => "signup-button" %>--><button>Create My Account</button>
            </td>
        </tr>

        <tr>
            <td colspan="3" style="text-align: center; height: 45px;"><br>By clicking "Create My Account" you agree to the <a href="<%= $babelroom[:marcom_url] %>/legal/terms/" target="_top">terms of service</a></td>
        </tr>

    </table>

<% end %>

<script src="/jquery/js/jquery-1.4.4.min.js" type="text/javascript"></script>
<script src="/jquery/js/jquery.placeholder.js" type="text/javascript"></script>
<script type='text/javascript' src='/jquery/js/jquery.pstrength.1.4.js'></script>
<script type='text/javascript' src='/ws_js/br_forms.js'></script>
<script language="javascript"> 

    function uurl(){
        $('#room_url_echo').text($('#room_url').val());
        }
    $('#room_url').bind('keyup blur', uurl);

  $(document).ready(function () {

    BRForms.subscribe({
        form:'.subscribe-form',
        email:'#user_email_address',
        first_name:'#user_name',
        last_name:'#user_last_name',
        password:'#user_password',
        password_confirmation:'#user_password_confirmation',
        submit:'#signup-button',
        room_url:'#room_url',
        placeholders: false
        });

    });
</script>
 
